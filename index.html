<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Document</title>
    <link rel="stylesheet" href="navbar.css" />
    <link rel="stylesheet" href="modal.css" />
    <link rel="stylesheet" href="accordion.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Ubuntu&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0px;
        padding: 0px;
      }

      @import url("https://fonts.googleapis.com/css2?family=Ubuntu&display=swap");

      body {
        font-family: "Ubuntu", sans-serif;
      }
    </style>
  </head>
  <body>
    <div class="nav_bar">
      <div class="title">
        <h1>Task Planner</h1>
      </div>
      <div class="add_bar">Add new Task</div>
      <div class="view_bar">View all Task</div>
    </div>

    <div id="add_task">
      <!-- Main Task  -->
      <form id="form_taskname" onsubmit="prevent(event)">
        <label for="lname">Task Name:</label>
        <input
          type="text"
          id="task_name"
          name="task_name"
          placeholder="Enter Task Name"
          required
        />
        <button type="submit" onclick="addSubTask();" id="add_subtask_button">
          Add Sub task
        </button>
        <button type="submit" onclick="addTaskwithoutSubtask();">
          Add task
        </button>
      </form>
      <!-- Sub Task -->

      <form
        id="form_subtaskname"
        style="display: none"
        onsubmit="prevent(event)"
      >
        <label for="lname">Sub_task Name:</label>
        <input
          type="text"
          id="sub_task_name"
          name="sub_task_name"
          placeholder="Enter Sub_Task Name"
          required
        />

        <label for="start_date">Start Date:</label>
        <input
          type="date"
          id="start_date"
          onchange="enableEndDate('start_date', 'end_date')"
          required
        />

        <label for="end_date">End Date:</label>
        <input
          type="date"
          id="end_date"
          disabled
          onchange="enableStatusDropdown('end_date','status')"
          required
        />

        <label for="status">Status:</label>
        <select id="status" disabled required>
          <option value="">Select Status</option>
          <option value="In Progress">In Progress</option>
          <option value="Completed">Completed</option>
          <option value="Due Passed">Due Passed</option>
          <option value="Cancelled">Cancelled</option>
        </select>

        <button type="submit" onclick="addNewSubTask()">
          Add more SubTask
        </button>
      </form>
      <div id="output"></div>
    </div>

    <div id="view_task" style="display: none">
      <div id="accordion-container"></div>
    </div>

    <!-- Delete Modal -->
    <div class="modal" id="deleteModal">
      <div class="modal-content">
        <!-- <span class="close-btn" id="closeModalBtn">&times;</span> -->
        <h2>Delete Employee</h2>

        <h3 id="DeleteSubtaskID">Task Name -</h3>
        <h3 id="DeleteSubtaskName">Sub Task -</h3>

        <button onclick="ConfirmDelete()">Delete</button>
        <button onclick="CancelDelete()">Cancel</button>
      </div>
    </div>
    <!-- Add Single SubTask Modal -->
    <div class="modal" id="addTaskModal">
      <div class="modal-content">
        <!-- <span class="close-btn" id="closeModalBtn">&times;</span> -->
        <h2>Task Name -</h2>

        <!-- Sub Task -->
        <h3 id="addNewSubTaskID">Sub Task ID -</h3>
        <form id="new_form_subtaskname" onsubmit="prevent(event)">
          <label for="new_sub_task_name">Sub_task Name:</label>
          <input
            type="text"
            id="new_sub_task_name"
            name="new_sub_task_name"
            placeholder="Enter Sub_Task Name"
            required
          />

          <label for="new_start_date">Start Date:</label>
          <input
            type="date"
            id="new_start_date"
            onchange="enableEndDate('new_start_date', 'new_end_date')"
            required
          />

          <label for="new_end_date">End Date:</label>
          <input
            type="date"
            id="new_end_date"
            disabled
            onchange="enableStatusDropdown('new_end_date','new_status')"
            required
          />

          <label for="new_status">Status:</label>
          <select id="new_status" disabled required>
            <option value="">Select Status</option>
            <option value="In Progress">In Progress</option>
            <option value="Completed">Completed</option>
            <option value="Due Passed">Due Passed</option>
            <option value="Cancelled">Cancelled</option>
          </select>

          <button type="submit" onclick="addNewSingleSubTask()">
            Add SubTask
          </button>
          <button onclick="CancelAddModal()">Cancel</button>
        </form>
      </div>
    </div>
    <!-- Edit Modal -->
    <div class="modal" id="editModal">
      <div class="modal-content edit-Modal">
        <!-- <span class="close-btn" id="closeModalBtn">&times;</span> -->

        <form id="form_subtaskname" onsubmit="prevent(event)">
          <h2>Edit SubTask</h2>
          <label for="lname">Sub_task Name:</label>
          <input
            type="text"
            id="edit_sub_taskname"
            name="sub_task_name"
            placeholder="Enter Sub_Task Name"
            required
          />

          <label for="start_date">Start Date:</label>
          <input
            type="date"
            id="edit_start_date"
            onchange="checkEditendDate(null);"
            required
          />

          <label for="end_date">End Date:</label>
          <input
            type="date"
            id="edit_end_date"
            onchange="enableStatusDropdown('edit_end_date','edit_status')"
            required
          />

          <label for="edit_status">Status:</label>
          <select id="edit_status" required>
            <option value="">Select Status</option>
            <option value="In Progress">In Progress</option>
            <option value="Completed">Completed</option>
            <option value="Due Passed">Due Passed</option>
            <option value="Cancelled">Cancelled</option>
          </select>

          <button type="submit" onclick="editSubTask()">Edit Task</button>
          <button type="button" onclick="CancelEdit()">Cancel</button>
        </form>
      </div>
    </div>
  </body>

  <script>
    var TaskPlanner = [
      {
        taskId: 1,
        taskName: "Buy groceries",
        subTasks: [
          {
            s_id: 0,
            s_title: "Milk",
            s_status: "Due Passed",
            s_startDate: "2023-07-23",
            s_endDate: "2023-07-30",
          },
          {
            s_id: 1,
            s_title: "Bread",
            s_status: "Cancelled",
            s_startDate: "2023-07-23",
            s_endDate: "2023-07-25",
          },
        ],
      },
    ];

    
    // Call the function to create the accordion when the page loads
  </script>
  <script src="editTask.js"></script>
  <script src="navBar.js"></script>
  <script src="calendar.js"></script>
  <script src="addTask.js"></script>
  <script src="deleteTask.js"></script>
  <script src="addSingleSubTask.js"></script>
  <script src="accordion.js"></script>


</html>
